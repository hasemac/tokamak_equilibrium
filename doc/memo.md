# 備忘録的メモ

## jtを電流密度として定義する場合

基本的にこの平衡計算コードの$`jt`$は、メッシュ内に流れるトータル電流で定義されている。  
$`jt`$を電流密度として定義する場合は、  

- pmat.pyで２か所
- functions.pyで１か所

のコメントアウトを外す必要がある。  
"jtを電流密度とする場合"で検索をかけて編集すること。

## g fileで定義される値との相違

g fileでの電流の式は、関数$`P'(\Psi)`$, $`FF'(\Psi)`$を用いて次で与えられる。

```math
j_{t} = R P'(\Psi) + FF'(\Psi)/(\mu_{0} R)
```

一方、この平衡計算コードで与えられる電流の式は、次で与えられる。

```math
j_{t} = 2 \pi R \frac{dP(\Psi)}{d\Psi}+ \frac{\mu_{0}}{4 \pi R} \frac{dI^{2}(\Psi)}{d\Psi}
```

従って、同じ式にしようとしたとき、次の変換式にしたがう。

```math
P'(\Psi) = 2 \pi \frac{dP(\Psi)}{d\Psi}
```

```math
FF'(\Psi) = \frac{\mu_0^{2}}{4 \pi} \frac{dI^{2}(\Psi)}{d\Psi}
```